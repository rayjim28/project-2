<%- include('../partials/header') %>

<div class="container mt-4">
  <h2><%= title %> </h2>


  <form action="/budgets/<%= budget_id %>/expenses/<%= expense._id %>?_method=PUT" method="POST" autocomplete="off" class="mt-3">
    <div class="mb-3">
      <label for="expensetName" class="form-label">Expense Name</label>
      <input type="text" name="name" class="form-control" id="expenseName" value="<%= expense.name %>" required>
    </div>
    <div class="mb-3">
      <label for="expenseAmount" class="form-label">Amount</label>
      <div class="input-group">
        <span class="input-group-text">$</span>
        <input type="number" name="amount" class="form-control" id="expenseAmount" value="<%= expense.amount %>" required>
      </div>
    </div>
    <div class="mb-3">
      <label for="expenseCategory" class="form-label">Category</label>
      <select name="category" class="form-control" id="expenseCategory" required>
        <% for( let index = 0; index < categories.length; index++ ) { %>
            <option value="<%= categories[index] %>"><%= categories[index] %></option>
        <% } %>
      </select>
    </div>
    <div class="mb-3">
      <label for="expenseDate" class="form-label">Date</label>
      <input type="date" name="date" class="form-control" id="expenseDate" value="<%= expense.date.toISOString().split('T')[0] %>" required>
    </div>
    <button type="submit" class="btn btn-primary">Update Expense</button>
  </form>

  <form action="/expenses/<%= expense.id %>?_method=DELETE" method="POST" class="mt-3">
    <button type="submit" class="btn btn-danger">Delete Expense</button>
  </form>
</div>

</div>

<%- include('../partials/footer') %>