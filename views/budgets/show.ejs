<%- include('../partials/header.ejs') %>

<div class="container mt-4">
  <h3><%= budget.name %></h3>

  <ul class="list-group mt-3">
    <% if (budget.expense) { %>
      <% budget.expense.forEach(function(expense) { %>
        <li class="list-group-item d-flex justify-content-between align-items-center">
          <form action="/budgets/<%= budget.id %>/budgets/<%= expense.id %>?_method=DELETE" method="POST">
            <button type="submit" class="btn btn-sm btn-danger">X</button>
          </form>
          <a href="/budgets/<%= expense.id %>"><%= expense.name %></a>
        </li>
      <% }); %>
    <% } %>
  </ul>

  <form action="/budgets/<%= budget.id %>/expenses" method="POST" class="mt-3">
    <div class="input-group">
      <input type="text" name="content" class="form-control" placeholder="Expense" required>
      <button type="submit" class="btn btn-primary">Add Expense</button>
    </div>
  </form>

  <a href="/budgets/<%= budget.id %>/edit" class="btn btn-secondary mt-3">Edit</a>
</div>

<%- include('../partials/footer.ejs') %>